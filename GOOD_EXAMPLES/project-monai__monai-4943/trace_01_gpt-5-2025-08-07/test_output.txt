+ source /opt/miniconda3/bin/activate
++ _CONDA_ROOT=/opt/miniconda3
++ . /opt/miniconda3/etc/profile.d/conda.sh
+++ export CONDA_EXE=/opt/miniconda3/bin/conda
+++ CONDA_EXE=/opt/miniconda3/bin/conda
+++ export _CE_M=
+++ _CE_M=
+++ export _CE_CONDA=
+++ _CE_CONDA=
+++ export CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
+++ CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
+++ '[' -z '' ']'
+++ export CONDA_SHLVL=0
+++ CONDA_SHLVL=0
+++ '[' -n '' ']'
+++++ dirname /opt/miniconda3/bin/conda
++++ dirname /opt/miniconda3/bin
+++ PATH=/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
+++ export PATH
+++ '[' -z '' ']'
+++ PS1=
++ conda activate
++ local cmd=activate
++ case "$cmd" in
++ __conda_activate activate
++ '[' -n '' ']'
++ local ask_conda
+++ PS1=
+++ __conda_exe shell.posix activate
+++ /opt/miniconda3/bin/conda shell.posix activate
++ ask_conda='PS1='\''(base) '\''
export PATH='\''/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\''
export CONDA_PREFIX='\''/opt/miniconda3'\''
export CONDA_SHLVL='\''1'\''
export CONDA_DEFAULT_ENV='\''base'\''
export CONDA_PROMPT_MODIFIER='\''(base) '\''
export CONDA_EXE='\''/opt/miniconda3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/opt/miniconda3/bin/python'\'''
++ eval 'PS1='\''(base) '\''
export PATH='\''/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\''
export CONDA_PREFIX='\''/opt/miniconda3'\''
export CONDA_SHLVL='\''1'\''
export CONDA_DEFAULT_ENV='\''base'\''
export CONDA_PROMPT_MODIFIER='\''(base) '\''
export CONDA_EXE='\''/opt/miniconda3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/opt/miniconda3/bin/python'\'''
+++ PS1='(base) '
+++ export PATH=/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
+++ PATH=/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
+++ export CONDA_PREFIX=/opt/miniconda3
+++ CONDA_PREFIX=/opt/miniconda3
+++ export CONDA_SHLVL=1
+++ CONDA_SHLVL=1
+++ export CONDA_DEFAULT_ENV=base
+++ CONDA_DEFAULT_ENV=base
+++ export 'CONDA_PROMPT_MODIFIER=(base) '
+++ CONDA_PROMPT_MODIFIER='(base) '
+++ export CONDA_EXE=/opt/miniconda3/bin/conda
+++ CONDA_EXE=/opt/miniconda3/bin/conda
+++ export _CE_M=
+++ _CE_M=
+++ export _CE_CONDA=
+++ _CE_CONDA=
+++ export CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
+++ CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
++ __conda_hashr
++ '[' -n '' ']'
++ '[' -n '' ']'
++ hash -r
+ conda activate testbed
+ local cmd=activate
+ case "$cmd" in
+ __conda_activate activate testbed
+ '[' -n '' ']'
+ local ask_conda
++ PS1='(base) '
++ __conda_exe shell.posix activate testbed
++ /opt/miniconda3/bin/conda shell.posix activate testbed
+ ask_conda='PS1='\''(testbed) '\''
export PATH='\''/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\''
export CONDA_PREFIX='\''/opt/miniconda3/envs/testbed'\''
export CONDA_SHLVL='\''2'\''
export CONDA_DEFAULT_ENV='\''testbed'\''
export CONDA_PROMPT_MODIFIER='\''(testbed) '\''
export CONDA_PREFIX_1='\''/opt/miniconda3'\''
export CONDA_EXE='\''/opt/miniconda3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/opt/miniconda3/bin/python'\'''
+ eval 'PS1='\''(testbed) '\''
export PATH='\''/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\''
export CONDA_PREFIX='\''/opt/miniconda3/envs/testbed'\''
export CONDA_SHLVL='\''2'\''
export CONDA_DEFAULT_ENV='\''testbed'\''
export CONDA_PROMPT_MODIFIER='\''(testbed) '\''
export CONDA_PREFIX_1='\''/opt/miniconda3'\''
export CONDA_EXE='\''/opt/miniconda3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/opt/miniconda3/bin/python'\'''
++ PS1='(testbed) '
++ export PATH=/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
++ PATH=/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
++ export CONDA_PREFIX=/opt/miniconda3/envs/testbed
++ CONDA_PREFIX=/opt/miniconda3/envs/testbed
++ export CONDA_SHLVL=2
++ CONDA_SHLVL=2
++ export CONDA_DEFAULT_ENV=testbed
++ CONDA_DEFAULT_ENV=testbed
++ export 'CONDA_PROMPT_MODIFIER=(testbed) '
++ CONDA_PROMPT_MODIFIER='(testbed) '
++ export CONDA_PREFIX_1=/opt/miniconda3
++ CONDA_PREFIX_1=/opt/miniconda3
++ export CONDA_EXE=/opt/miniconda3/bin/conda
++ CONDA_EXE=/opt/miniconda3/bin/conda
++ export _CE_M=
++ _CE_M=
++ export _CE_CONDA=
++ _CE_CONDA=
++ export CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
++ CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
+ __conda_hashr
+ '[' -n '' ']'
+ '[' -n '' ']'
+ hash -r
+ cd /testbed
+ git config --global --add safe.directory /testbed
+ cd /testbed
+ git status
On branch dev
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   monai/data/wsi_reader.py

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	repro_wsireader_num_workers.py

no changes added to commit (use "git add" and/or "git commit -a")
+ git show
commit 8c15ead8cc055aa65430c2ccb7919e2954d76234
Author: Wenqi Li <831580+wyli@users.noreply.github.com>
Date:   Fri Aug 19 17:12:25 2022 +0100

    4938 improve SpatialResample default values and fixes bugs (#4940)
    
    * fixes spatial resample
    
    Signed-off-by: Wenqi Li <wenqil@nvidia.com>
    
    * fixes #4938
    
    Signed-off-by: Wenqi Li <wenqil@nvidia.com>
    
    * skip if no scipy
    
    Signed-off-by: Wenqi Li <wenqil@nvidia.com>
    
    * skip if no cupy
    
    Signed-off-by: Wenqi Li <wenqil@nvidia.com>
    
    Signed-off-by: Wenqi Li <wenqil@nvidia.com>

diff --git a/monai/transforms/spatial/array.py b/monai/transforms/spatial/array.py
index 0a5b0bb3..122faaf9 100644
--- a/monai/transforms/spatial/array.py
+++ b/monai/transforms/spatial/array.py
@@ -195,7 +195,7 @@ class SpatialResample(InvertibleTransform):
         spatial_size: Optional[Union[Sequence[int], torch.Tensor, int]] = None,
         mode: Union[str, int, None] = None,
         padding_mode: Optional[str] = None,
-        align_corners: Optional[bool] = False,
+        align_corners: Optional[bool] = None,
         dtype: DtypeLike = None,
     ) -> torch.Tensor:
         """
@@ -224,6 +224,7 @@ class SpatialResample(InvertibleTransform):
                 See also: https://docs.scipy.org/doc/scipy/reference/generated/scipy.ndimage.map_coordinates.html
             align_corners: Geometrically, we consider the pixels of the input as squares rather than points.
                 See also: https://pytorch.org/docs/stable/generated/torch.nn.functional.grid_sample.html
+                Defaults to ``None``, effectively using the value of `self.align_corners`.
             dtype: data type for resampling computation. Defaults to ``self.dtype`` or
                 ``np.float64`` (for best precision). If ``None``, use the data type of input data.
                 To be compatible with other modules, the output data type is always `float32`.
@@ -295,7 +296,7 @@ class SpatialResample(InvertibleTransform):
             for idx, d_dst in enumerate(spatial_size[:spatial_rank]):
                 _t_r[idx, -1] = (max(d_dst, 2) - 1.0) / 2.0
             xform = xform @ _t_r
-            if not USE_COMPILED:
+            if not USE_COMPILED and not isinstance(mode, int):
                 _t_l = normalize_transform(
                     in_spatial_size, xform.device, xform.dtype, align_corners=True  # type: ignore
                 )[0]
@@ -365,7 +366,7 @@ class ResampleToMatch(SpatialResample):
         dst_meta: Optional[Dict] = None,
         mode: Union[str, int, None] = None,
         padding_mode: Optional[str] = None,
-        align_corners: Optional[bool] = False,
+        align_corners: Optional[bool] = None,
         dtype: DtypeLike = None,
     ) -> torch.Tensor:
         """
@@ -393,7 +394,7 @@ class ResampleToMatch(SpatialResample):
                 {'reflect', 'grid-mirror', 'constant', 'grid-constant', 'nearest', 'mirror', 'grid-wrap', 'wrap'}.
                 See also: https://docs.scipy.org/doc/scipy/reference/generated/scipy.ndimage.map_coordinates.html
             align_corners: Geometrically, we consider the pixels of the input as squares rather than points.
-                Defaults to ``False``.
+                Defaults to ``None``, effectively using the value of `self.align_corners`.
                 See also: https://pytorch.org/docs/stable/generated/torch.nn.functional.grid_sample.html
             dtype: data type for resampling computation. Defaults to ``self.dtype`` or
                 ``np.float64`` (for best precision). If ``None``, use the data type of input data.
@@ -513,6 +514,7 @@ class Spacing(InvertibleTransform):
                 See also: https://docs.scipy.org/doc/scipy/reference/generated/scipy.ndimage.map_coordinates.html
             align_corners: Geometrically, we consider the pixels of the input as squares rather than points.
                 See also: https://pytorch.org/docs/stable/generated/torch.nn.functional.grid_sample.html
+                Defaults to ``None``, effectively using the value of `self.align_corners`.
             dtype: data type for resampling computation. Defaults to ``self.dtype``.
                 If None, use the data type of input data. To be compatible with other modules,
                 the output data type is always ``np.float32``.
diff --git a/tests/test_spatial_resample.py b/tests/test_spatial_resample.py
index f9699e4c..74480cd4 100644
--- a/tests/test_spatial_resample.py
+++ b/tests/test_spatial_resample.py
@@ -10,6 +10,7 @@
 # limitations under the License.
 
 import unittest
+from copy import deepcopy
 
 import numpy as np
 import torch
@@ -19,6 +20,7 @@ from monai.data.meta_obj import set_track_meta
 from monai.data.meta_tensor import MetaTensor
 from monai.data.utils import to_affine_nd
 from monai.transforms import SpatialResample
+from monai.utils import optional_import
 from tests.utils import TEST_DEVICES, TEST_NDARRAYS_ALL, assert_allclose
 
 TESTS = []
@@ -53,6 +55,9 @@ for dst, expct in zip(destinations_3d, expected_3d):
                             expct,
                         ]
                     )
+if optional_import("cupy")[1] and optional_import("scipy.ndimage")[1]:
+    TESTS.append(deepcopy(TESTS[-1]))
+    TESTS[-1][2].update({"align_corners": True, "mode": 1, "padding_mode": "reflect"})  # type: ignore
 
 
 destinations_2d = [
@@ -147,7 +152,7 @@ class TestSpatialResample(unittest.TestCase):
 
         dst = torch.tensor([[1.0, 0.0, 0.0, 0.0], [0.0, 1.0, 0.0, 0.0], [0.0, 0.0, -1.0, 1.5], [0.0, 0.0, 0.0, 1.0]])
         dst = dst.to(dtype)
-        out = SpatialResample(dtype=dtype)(img=img, dst_affine=dst)
+        out = SpatialResample(dtype=dtype, align_corners=True)(img=img, dst_affine=dst, align_corners=False)
         assert_allclose(out, expected_data[None], rtol=1e-2, atol=1e-2)
         assert_allclose(out.affine, dst.to(torch.float32), rtol=1e-2, atol=1e-2)
 
@@ -167,6 +172,12 @@ class TestSpatialResample(unittest.TestCase):
             img.affine = torch.eye(4)
             dst_affine = torch.eye(4) * 0.1
             SpatialResample(mode=None)(img=img, dst_affine=dst_affine)
+        if not (optional_import("scipy")[1] and optional_import("cupy")[1]):
+            return
+        with self.assertRaises(ValueError):  # requires scipy
+            SpatialResample(mode=1, align_corners=True)(img=img, dst_affine=dst_affine)
+        with self.assertRaises(ValueError):
+            SpatialResample(mode=1, align_corners=False)(img=img, dst_affine=dst_affine)
 
     @parameterized.expand(TEST_TORCH_INPUT)
     def test_input_torch(self, new_shape, tile, device, dtype, expected_data, track_meta):
+ git diff 8c15ead8cc055aa65430c2ccb7919e2954d76234
diff --git a/monai/data/wsi_reader.py b/monai/data/wsi_reader.py
index 0bb2de98..d215b0ea 100644
--- a/monai/data/wsi_reader.py
+++ b/monai/data/wsi_reader.py
@@ -59,6 +59,9 @@ class BaseWSIReader(ImageReader):
         super().__init__()
         self.level = level
         self.channel_dim = channel_dim
+        # num_workers is used by cuCIM's read_region, not CuImage constructor or openslide
+        # Keep it as an attribute and remove from kwargs to avoid passing to CuImage()
+        self.num_workers: Optional[int] = kwargs.pop("num_workers", None)
         self.kwargs = kwargs
         self.metadata: Dict[Any, Any] = {}
 
@@ -276,6 +279,11 @@ class WSIReader(BaseWSIReader):
             self.reader = OpenSlideWSIReader(level=level, channel_dim=channel_dim, **kwargs)
         else:
             raise ValueError(f"The supported backends are cucim and openslide, '{self.backend}' was given.")
+        # propagate cuCIM-specific option to the concrete reader
+        try:
+            setattr(self.reader, "num_workers", getattr(self, "num_workers", None))
+        except Exception:
+            pass
         self.supported_suffixes = self.reader.supported_suffixes
 
     def get_level_count(self, wsi) -> int:
@@ -424,6 +432,11 @@ class CuCIMWSIReader(BaseWSIReader):
         filenames: Sequence[PathLike] = ensure_tuple(data)
         kwargs_ = self.kwargs.copy()
         kwargs_.update(kwargs)
+        # handle cuCIM-specific option for read_region
+        if "num_workers" in kwargs:
+            self.num_workers = kwargs.get("num_workers")
+        # remove options that are not CuImage constructor args
+        kwargs_.pop("num_workers", None)
         for filename in filenames:
             wsi = CuImage(filename, **kwargs_)
             wsi_list.append(wsi)
@@ -448,7 +461,10 @@ class CuCIMWSIReader(BaseWSIReader):
         """
         # Extract a patch or the entire image
         # (reverse the order of location and size to become WxH for cuCIM)
-        patch: np.ndarray = wsi.read_region(location=location[::-1], size=size[::-1], level=level)
+        _kwargs = {}
+        if getattr(self, "num_workers", None) is not None:
+            _kwargs["num_workers"] = self.num_workers
+        patch: np.ndarray = wsi.read_region(location=location[::-1], size=size[::-1], level=level, **_kwargs)
 
         # Convert to numpy
         patch = np.asarray(patch, dtype=dtype)
+ source /opt/miniconda3/bin/activate
++ _CONDA_ROOT=/opt/miniconda3
++ . /opt/miniconda3/etc/profile.d/conda.sh
+++ export CONDA_EXE=/opt/miniconda3/bin/conda
+++ CONDA_EXE=/opt/miniconda3/bin/conda
+++ export _CE_M=
+++ _CE_M=
+++ export _CE_CONDA=
+++ _CE_CONDA=
+++ export CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
+++ CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
+++ '[' -z x ']'
++ conda activate
++ local cmd=activate
++ case "$cmd" in
++ __conda_activate activate
++ '[' -n '' ']'
++ local ask_conda
+++ PS1='(testbed) '
+++ __conda_exe shell.posix activate
+++ /opt/miniconda3/bin/conda shell.posix activate
++ ask_conda='PS1='\''(base) '\''
export PATH='\''/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\''
export CONDA_PREFIX='\''/opt/miniconda3'\''
export CONDA_SHLVL='\''3'\''
export CONDA_DEFAULT_ENV='\''base'\''
export CONDA_PROMPT_MODIFIER='\''(base) '\''
export CONDA_PREFIX_2='\''/opt/miniconda3/envs/testbed'\''
export CONDA_EXE='\''/opt/miniconda3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/opt/miniconda3/bin/python'\'''
++ eval 'PS1='\''(base) '\''
export PATH='\''/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\''
export CONDA_PREFIX='\''/opt/miniconda3'\''
export CONDA_SHLVL='\''3'\''
export CONDA_DEFAULT_ENV='\''base'\''
export CONDA_PROMPT_MODIFIER='\''(base) '\''
export CONDA_PREFIX_2='\''/opt/miniconda3/envs/testbed'\''
export CONDA_EXE='\''/opt/miniconda3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/opt/miniconda3/bin/python'\'''
+++ PS1='(base) '
+++ export PATH=/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
+++ PATH=/opt/miniconda3/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
+++ export CONDA_PREFIX=/opt/miniconda3
+++ CONDA_PREFIX=/opt/miniconda3
+++ export CONDA_SHLVL=3
+++ CONDA_SHLVL=3
+++ export CONDA_DEFAULT_ENV=base
+++ CONDA_DEFAULT_ENV=base
+++ export 'CONDA_PROMPT_MODIFIER=(base) '
+++ CONDA_PROMPT_MODIFIER='(base) '
+++ export CONDA_PREFIX_2=/opt/miniconda3/envs/testbed
+++ CONDA_PREFIX_2=/opt/miniconda3/envs/testbed
+++ export CONDA_EXE=/opt/miniconda3/bin/conda
+++ CONDA_EXE=/opt/miniconda3/bin/conda
+++ export _CE_M=
+++ _CE_M=
+++ export _CE_CONDA=
+++ _CE_CONDA=
+++ export CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
+++ CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
++ __conda_hashr
++ '[' -n '' ']'
++ '[' -n '' ']'
++ hash -r
+ conda activate testbed
+ local cmd=activate
+ case "$cmd" in
+ __conda_activate activate testbed
+ '[' -n '' ']'
+ local ask_conda
++ PS1='(base) '
++ __conda_exe shell.posix activate testbed
++ /opt/miniconda3/bin/conda shell.posix activate testbed
+ ask_conda='PS1='\''(testbed) '\''
export PATH='\''/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\''
export CONDA_PREFIX='\''/opt/miniconda3/envs/testbed'\''
export CONDA_SHLVL='\''4'\''
export CONDA_DEFAULT_ENV='\''testbed'\''
export CONDA_PROMPT_MODIFIER='\''(testbed) '\''
export CONDA_PREFIX_3='\''/opt/miniconda3'\''
export CONDA_EXE='\''/opt/miniconda3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/opt/miniconda3/bin/python'\'''
+ eval 'PS1='\''(testbed) '\''
export PATH='\''/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\''
export CONDA_PREFIX='\''/opt/miniconda3/envs/testbed'\''
export CONDA_SHLVL='\''4'\''
export CONDA_DEFAULT_ENV='\''testbed'\''
export CONDA_PROMPT_MODIFIER='\''(testbed) '\''
export CONDA_PREFIX_3='\''/opt/miniconda3'\''
export CONDA_EXE='\''/opt/miniconda3/bin/conda'\''
export _CE_M='\'''\''
export _CE_CONDA='\'''\''
export CONDA_PYTHON_EXE='\''/opt/miniconda3/bin/python'\'''
++ PS1='(testbed) '
++ export PATH=/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
++ PATH=/opt/miniconda3/envs/testbed/bin:/opt/miniconda3/condabin:/opt/miniconda3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
++ export CONDA_PREFIX=/opt/miniconda3/envs/testbed
++ CONDA_PREFIX=/opt/miniconda3/envs/testbed
++ export CONDA_SHLVL=4
++ CONDA_SHLVL=4
++ export CONDA_DEFAULT_ENV=testbed
++ CONDA_DEFAULT_ENV=testbed
++ export 'CONDA_PROMPT_MODIFIER=(testbed) '
++ CONDA_PROMPT_MODIFIER='(testbed) '
++ export CONDA_PREFIX_3=/opt/miniconda3
++ CONDA_PREFIX_3=/opt/miniconda3
++ export CONDA_EXE=/opt/miniconda3/bin/conda
++ CONDA_EXE=/opt/miniconda3/bin/conda
++ export _CE_M=
++ _CE_M=
++ export _CE_CONDA=
++ _CE_CONDA=
++ export CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
++ CONDA_PYTHON_EXE=/opt/miniconda3/bin/python
+ __conda_hashr
+ '[' -n '' ']'
+ '[' -n '' ']'
+ hash -r
+ sed -i '/^git+https:\/\/github.com\/Project-MONAI\//d' requirements-dev.txt
+ python -m pip install types-pkg-resources==0.1.3 pytest
Requirement already satisfied: types-pkg-resources==0.1.3 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (0.1.3)
Requirement already satisfied: pytest in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (8.3.5)
Requirement already satisfied: exceptiongroup>=1.0.0rc8 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pytest) (1.3.0)
Requirement already satisfied: iniconfig in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pytest) (2.1.0)
Requirement already satisfied: packaging in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pytest) (24.2)
Requirement already satisfied: pluggy<2,>=1.5 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pytest) (1.5.0)
Requirement already satisfied: tomli>=1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pytest) (2.3.0)
Requirement already satisfied: typing-extensions>=4.6.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from exceptiongroup>=1.0.0rc8->pytest) (4.13.2)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
+ pip install -r requirements-dev.txt
Requirement already satisfied: torch>=1.7 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements.txt (line 1)) (1.13.1)
Requirement already satisfied: numpy>=1.17 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements.txt (line 2)) (1.24.4)
Requirement already satisfied: setuptools!=60.0.0,!=60.6.0,>=50.3.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-min.txt (line 3)) (75.1.0)
Requirement already satisfied: coverage>=5.5 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-min.txt (line 4)) (7.6.1)
Requirement already satisfied: parameterized in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-min.txt (line 5)) (0.9.0)
Requirement already satisfied: pytorch-ignite==0.4.9 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 3)) (0.4.9)
Requirement already satisfied: gdown>=4.4.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 4)) (5.2.0)
Requirement already satisfied: scipy in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 5)) (1.10.1)
Requirement already satisfied: itk>=5.2 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 6)) (5.4.4)
Requirement already satisfied: nibabel in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 7)) (5.2.1)
Requirement already satisfied: pillow!=8.3.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 8)) (10.4.0)
Requirement already satisfied: tensorboard in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 9)) (2.14.0)
Requirement already satisfied: scikit-image>=0.19.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 10)) (0.21.0)
Requirement already satisfied: tqdm>=4.47.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 11)) (4.67.1)
Requirement already satisfied: lmdb in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 12)) (1.7.5)
Requirement already satisfied: flake8>=3.8.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 13)) (7.1.2)
Requirement already satisfied: flake8-bugbear in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 14)) (24.12.12)
Requirement already satisfied: flake8-comprehensions in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 15)) (3.15.0)
Requirement already satisfied: flake8-executable in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 16)) (2.1.3)
Requirement already satisfied: pylint!=2.13 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 17)) (3.2.7)
Requirement already satisfied: mccabe in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 18)) (0.7.0)
Requirement already satisfied: pep8-naming in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 19)) (0.14.1)
Requirement already satisfied: pycodestyle in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 20)) (2.12.1)
Requirement already satisfied: pyflakes in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 21)) (3.2.0)
Requirement already satisfied: black in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 22)) (24.8.0)
Requirement already satisfied: isort in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 23)) (5.13.2)
Requirement already satisfied: pytype>=2020.6.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 24)) (2024.9.13)
Requirement already satisfied: types-pkg_resources in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 25)) (0.1.3)
Requirement already satisfied: mypy>=0.790 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 26)) (1.14.1)
Requirement already satisfied: ninja in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 27)) (1.13.0)
Requirement already satisfied: torchvision in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 28)) (0.14.1)
Requirement already satisfied: psutil in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 29)) (7.1.3)
Requirement already satisfied: Sphinx==3.5.3 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 30)) (3.5.3)
Requirement already satisfied: recommonmark==0.6.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 31)) (0.6.0)
Requirement already satisfied: sphinx-autodoc-typehints==1.11.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 32)) (1.11.1)
Requirement already satisfied: sphinx-rtd-theme==0.5.2 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 33)) (0.5.2)
Requirement already satisfied: cucim==22.2.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 34)) (22.2.1)
Requirement already satisfied: openslide-python==1.1.2 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 35)) (1.1.2)
Requirement already satisfied: imagecodecs in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 36)) (2023.3.16)
Requirement already satisfied: tifffile in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 37)) (2023.7.10)
Requirement already satisfied: pandas in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 38)) (2.0.3)
Requirement already satisfied: requests in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 39)) (2.32.4)
Requirement already satisfied: einops in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 40)) (0.8.1)
Requirement already satisfied: transformers in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 41)) (4.46.3)
Requirement already satisfied: mlflow in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 42)) (2.17.2)
Requirement already satisfied: matplotlib!=3.5.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 43)) (3.7.5)
Requirement already satisfied: tensorboardX in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 44)) (2.6.2.2)
Requirement already satisfied: types-PyYAML in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 45)) (6.0.12.20241230)
Requirement already satisfied: pyyaml in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 46)) (6.0.3)
Requirement already satisfied: fire in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 47)) (0.7.1)
Requirement already satisfied: jsonschema in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 48)) (4.23.0)
Requirement already satisfied: pynrrd in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 49)) (1.1.3)
Requirement already satisfied: pre-commit in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 50)) (3.5.0)
Requirement already satisfied: pydicom in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 51)) (2.4.4)
Requirement already satisfied: h5py in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from -r requirements-dev.txt (line 52)) (3.11.0)
Requirement already satisfied: packaging in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pytorch-ignite==0.4.9->-r requirements-dev.txt (line 3)) (24.2)
Requirement already satisfied: sphinxcontrib-applehelp in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from Sphinx==3.5.3->-r requirements-dev.txt (line 30)) (1.0.4)
Requirement already satisfied: sphinxcontrib-devhelp in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from Sphinx==3.5.3->-r requirements-dev.txt (line 30)) (1.0.2)
Requirement already satisfied: sphinxcontrib-jsmath in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from Sphinx==3.5.3->-r requirements-dev.txt (line 30)) (1.0.1)
Requirement already satisfied: sphinxcontrib-htmlhelp in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from Sphinx==3.5.3->-r requirements-dev.txt (line 30)) (2.0.1)
Requirement already satisfied: sphinxcontrib-serializinghtml in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from Sphinx==3.5.3->-r requirements-dev.txt (line 30)) (1.1.5)
Requirement already satisfied: sphinxcontrib-qthelp in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from Sphinx==3.5.3->-r requirements-dev.txt (line 30)) (1.0.3)
Requirement already satisfied: Jinja2>=2.3 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from Sphinx==3.5.3->-r requirements-dev.txt (line 30)) (3.1.6)
Requirement already satisfied: Pygments>=2.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from Sphinx==3.5.3->-r requirements-dev.txt (line 30)) (2.19.2)
Requirement already satisfied: docutils>=0.12 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from Sphinx==3.5.3->-r requirements-dev.txt (line 30)) (0.16)
Requirement already satisfied: snowballstemmer>=1.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from Sphinx==3.5.3->-r requirements-dev.txt (line 30)) (3.0.1)
Requirement already satisfied: babel>=1.3 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from Sphinx==3.5.3->-r requirements-dev.txt (line 30)) (2.17.0)
Requirement already satisfied: alabaster<0.8,>=0.7 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from Sphinx==3.5.3->-r requirements-dev.txt (line 30)) (0.7.13)
Requirement already satisfied: imagesize in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from Sphinx==3.5.3->-r requirements-dev.txt (line 30)) (1.4.1)
Requirement already satisfied: commonmark>=0.8.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from recommonmark==0.6.0->-r requirements-dev.txt (line 31)) (0.9.1)
Requirement already satisfied: click in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from cucim==22.2.1->-r requirements-dev.txt (line 34)) (8.1.8)
Requirement already satisfied: typing-extensions in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from torch>=1.7->-r requirements.txt (line 1)) (4.13.2)
Requirement already satisfied: nvidia-cuda-runtime-cu11==11.7.99 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from torch>=1.7->-r requirements.txt (line 1)) (11.7.99)
Requirement already satisfied: nvidia-cudnn-cu11==8.5.0.96 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from torch>=1.7->-r requirements.txt (line 1)) (8.5.0.96)
Requirement already satisfied: nvidia-cublas-cu11==11.10.3.66 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from torch>=1.7->-r requirements.txt (line 1)) (11.10.3.66)
Requirement already satisfied: nvidia-cuda-nvrtc-cu11==11.7.99 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from torch>=1.7->-r requirements.txt (line 1)) (11.7.99)
Requirement already satisfied: wheel in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from nvidia-cublas-cu11==11.10.3.66->torch>=1.7->-r requirements.txt (line 1)) (0.44.0)
Requirement already satisfied: beautifulsoup4 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from gdown>=4.4.0->-r requirements-dev.txt (line 4)) (4.14.2)
Requirement already satisfied: filelock in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from gdown>=4.4.0->-r requirements-dev.txt (line 4)) (3.16.1)
Requirement already satisfied: itk-core==5.4.4 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from itk>=5.2->-r requirements-dev.txt (line 6)) (5.4.4)
Requirement already satisfied: itk-numerics==5.4.4 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from itk>=5.2->-r requirements-dev.txt (line 6)) (5.4.4)
Requirement already satisfied: itk-io==5.4.4 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from itk>=5.2->-r requirements-dev.txt (line 6)) (5.4.4)
Requirement already satisfied: itk-filtering==5.4.4 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from itk>=5.2->-r requirements-dev.txt (line 6)) (5.4.4)
Requirement already satisfied: itk-registration==5.4.4 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from itk>=5.2->-r requirements-dev.txt (line 6)) (5.4.4)
Requirement already satisfied: itk-segmentation==5.4.4 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from itk>=5.2->-r requirements-dev.txt (line 6)) (5.4.4)
Requirement already satisfied: importlib-resources>=1.3 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from nibabel->-r requirements-dev.txt (line 7)) (6.4.5)
Requirement already satisfied: absl-py>=0.4 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from tensorboard->-r requirements-dev.txt (line 9)) (2.3.1)
Requirement already satisfied: grpcio>=1.48.2 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from tensorboard->-r requirements-dev.txt (line 9)) (1.70.0)
Requirement already satisfied: google-auth<3,>=1.6.3 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from tensorboard->-r requirements-dev.txt (line 9)) (2.43.0)
Requirement already satisfied: google-auth-oauthlib<1.1,>=0.5 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from tensorboard->-r requirements-dev.txt (line 9)) (1.0.0)
Requirement already satisfied: markdown>=2.6.8 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from tensorboard->-r requirements-dev.txt (line 9)) (3.7)
Requirement already satisfied: protobuf>=3.19.6 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from tensorboard->-r requirements-dev.txt (line 9)) (5.29.5)
Requirement already satisfied: tensorboard-data-server<0.8.0,>=0.7.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from tensorboard->-r requirements-dev.txt (line 9)) (0.7.2)
Requirement already satisfied: werkzeug>=1.0.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from tensorboard->-r requirements-dev.txt (line 9)) (3.0.6)
Requirement already satisfied: networkx>=2.8 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from scikit-image>=0.19.0->-r requirements-dev.txt (line 10)) (3.1)
Requirement already satisfied: imageio>=2.27 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from scikit-image>=0.19.0->-r requirements-dev.txt (line 10)) (2.35.1)
Requirement already satisfied: PyWavelets>=1.1.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from scikit-image>=0.19.0->-r requirements-dev.txt (line 10)) (1.4.1)
Requirement already satisfied: lazy_loader>=0.2 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from scikit-image>=0.19.0->-r requirements-dev.txt (line 10)) (0.4)
Requirement already satisfied: attrs>=22.2.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from flake8-bugbear->-r requirements-dev.txt (line 14)) (25.3.0)
Requirement already satisfied: platformdirs>=2.2.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pylint!=2.13->-r requirements-dev.txt (line 17)) (4.3.6)
Requirement already satisfied: astroid<=3.3.0-dev0,>=3.2.4 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pylint!=2.13->-r requirements-dev.txt (line 17)) (3.2.4)
Requirement already satisfied: tomlkit>=0.10.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pylint!=2.13->-r requirements-dev.txt (line 17)) (0.13.3)
Requirement already satisfied: dill>=0.2 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pylint!=2.13->-r requirements-dev.txt (line 17)) (0.4.0)
Requirement already satisfied: tomli>=1.1.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pylint!=2.13->-r requirements-dev.txt (line 17)) (2.3.0)
Requirement already satisfied: mypy-extensions>=0.4.3 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from black->-r requirements-dev.txt (line 22)) (1.1.0)
Requirement already satisfied: pathspec>=0.9.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from black->-r requirements-dev.txt (line 22)) (0.12.1)
Requirement already satisfied: importlab>=0.8 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pytype>=2020.6.1->-r requirements-dev.txt (line 24)) (0.8.1)
Requirement already satisfied: immutabledict>=4.1.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pytype>=2020.6.1->-r requirements-dev.txt (line 24)) (4.2.2)
Requirement already satisfied: libcst>=1.0.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pytype>=2020.6.1->-r requirements-dev.txt (line 24)) (1.1.0)
Requirement already satisfied: msgspec>=0.18.6 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pytype>=2020.6.1->-r requirements-dev.txt (line 24)) (0.18.6)
Requirement already satisfied: pycnite>=2024.07.31 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pytype>=2020.6.1->-r requirements-dev.txt (line 24)) (2024.7.31)
Requirement already satisfied: pydot>=1.4.2 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pytype>=2020.6.1->-r requirements-dev.txt (line 24)) (4.0.1)
Requirement already satisfied: tabulate>=0.8.10 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pytype>=2020.6.1->-r requirements-dev.txt (line 24)) (0.9.0)
Requirement already satisfied: toml>=0.10.2 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pytype>=2020.6.1->-r requirements-dev.txt (line 24)) (0.10.2)
Requirement already satisfied: python-dateutil>=2.8.2 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pandas->-r requirements-dev.txt (line 38)) (2.9.0.post0)
Requirement already satisfied: pytz>=2020.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pandas->-r requirements-dev.txt (line 38)) (2025.2)
Requirement already satisfied: tzdata>=2022.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pandas->-r requirements-dev.txt (line 38)) (2025.2)
Requirement already satisfied: charset_normalizer<4,>=2 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from requests->-r requirements-dev.txt (line 39)) (3.4.4)
Requirement already satisfied: idna<4,>=2.5 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from requests->-r requirements-dev.txt (line 39)) (3.11)
Requirement already satisfied: urllib3<3,>=1.21.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from requests->-r requirements-dev.txt (line 39)) (2.2.3)
Requirement already satisfied: certifi>=2017.4.17 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from requests->-r requirements-dev.txt (line 39)) (2025.11.12)
Requirement already satisfied: huggingface-hub<1.0,>=0.23.2 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from transformers->-r requirements-dev.txt (line 41)) (0.36.0)
Requirement already satisfied: regex!=2019.12.17 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from transformers->-r requirements-dev.txt (line 41)) (2024.11.6)
Requirement already satisfied: tokenizers<0.21,>=0.20 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from transformers->-r requirements-dev.txt (line 41)) (0.20.3)
Requirement already satisfied: safetensors>=0.4.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from transformers->-r requirements-dev.txt (line 41)) (0.5.3)
Requirement already satisfied: mlflow-skinny==2.17.2 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from mlflow->-r requirements-dev.txt (line 42)) (2.17.2)
Requirement already satisfied: Flask<4 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from mlflow->-r requirements-dev.txt (line 42)) (3.0.3)
Requirement already satisfied: alembic!=1.10.0,<2 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from mlflow->-r requirements-dev.txt (line 42)) (1.14.1)
Requirement already satisfied: docker<8,>=4.0.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from mlflow->-r requirements-dev.txt (line 42)) (7.1.0)
Requirement already satisfied: graphene<4 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from mlflow->-r requirements-dev.txt (line 42)) (3.4.3)
Requirement already satisfied: pyarrow<18,>=4.0.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from mlflow->-r requirements-dev.txt (line 42)) (17.0.0)
Requirement already satisfied: scikit-learn<2 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from mlflow->-r requirements-dev.txt (line 42)) (1.3.2)
Requirement already satisfied: sqlalchemy<3,>=1.4.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from mlflow->-r requirements-dev.txt (line 42)) (2.0.44)
Requirement already satisfied: gunicorn<24 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from mlflow->-r requirements-dev.txt (line 42)) (23.0.0)
Requirement already satisfied: cachetools<6,>=5.0.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from mlflow-skinny==2.17.2->mlflow->-r requirements-dev.txt (line 42)) (5.5.2)
Requirement already satisfied: cloudpickle<4 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from mlflow-skinny==2.17.2->mlflow->-r requirements-dev.txt (line 42)) (3.1.2)
Requirement already satisfied: databricks-sdk<1,>=0.20.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from mlflow-skinny==2.17.2->mlflow->-r requirements-dev.txt (line 42)) (0.73.0)
Requirement already satisfied: gitpython<4,>=3.1.9 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from mlflow-skinny==2.17.2->mlflow->-r requirements-dev.txt (line 42)) (3.1.45)
Requirement already satisfied: importlib-metadata!=4.7.0,<9,>=3.7.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from mlflow-skinny==2.17.2->mlflow->-r requirements-dev.txt (line 42)) (8.5.0)
Requirement already satisfied: opentelemetry-api<3,>=1.9.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from mlflow-skinny==2.17.2->mlflow->-r requirements-dev.txt (line 42)) (1.33.1)
Requirement already satisfied: opentelemetry-sdk<3,>=1.9.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from mlflow-skinny==2.17.2->mlflow->-r requirements-dev.txt (line 42)) (1.33.1)
Requirement already satisfied: sqlparse<1,>=0.4.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from mlflow-skinny==2.17.2->mlflow->-r requirements-dev.txt (line 42)) (0.5.3)
Requirement already satisfied: contourpy>=1.0.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from matplotlib!=3.5.0->-r requirements-dev.txt (line 43)) (1.1.1)
Requirement already satisfied: cycler>=0.10 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from matplotlib!=3.5.0->-r requirements-dev.txt (line 43)) (0.12.1)
Requirement already satisfied: fonttools>=4.22.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from matplotlib!=3.5.0->-r requirements-dev.txt (line 43)) (4.57.0)
Requirement already satisfied: kiwisolver>=1.0.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from matplotlib!=3.5.0->-r requirements-dev.txt (line 43)) (1.4.7)
Requirement already satisfied: pyparsing>=2.3.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from matplotlib!=3.5.0->-r requirements-dev.txt (line 43)) (3.1.4)
Requirement already satisfied: termcolor in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from fire->-r requirements-dev.txt (line 47)) (2.4.0)
Requirement already satisfied: jsonschema-specifications>=2023.03.6 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from jsonschema->-r requirements-dev.txt (line 48)) (2023.12.1)
Requirement already satisfied: pkgutil-resolve-name>=1.3.10 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from jsonschema->-r requirements-dev.txt (line 48)) (1.3.10)
Requirement already satisfied: referencing>=0.28.4 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from jsonschema->-r requirements-dev.txt (line 48)) (0.35.1)
Requirement already satisfied: rpds-py>=0.7.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from jsonschema->-r requirements-dev.txt (line 48)) (0.20.1)
Requirement already satisfied: cfgv>=2.0.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pre-commit->-r requirements-dev.txt (line 50)) (3.4.0)
Requirement already satisfied: identify>=1.0.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pre-commit->-r requirements-dev.txt (line 50)) (2.6.1)
Requirement already satisfied: nodeenv>=0.11.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pre-commit->-r requirements-dev.txt (line 50)) (1.9.1)
Requirement already satisfied: virtualenv>=20.10.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pre-commit->-r requirements-dev.txt (line 50)) (20.35.4)
Requirement already satisfied: Mako in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from alembic!=1.10.0,<2->mlflow->-r requirements-dev.txt (line 42)) (1.3.10)
Requirement already satisfied: itsdangerous>=2.1.2 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from Flask<4->mlflow->-r requirements-dev.txt (line 42)) (2.2.0)
Requirement already satisfied: blinker>=1.6.2 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from Flask<4->mlflow->-r requirements-dev.txt (line 42)) (1.8.2)
Requirement already satisfied: pyasn1-modules>=0.2.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from google-auth<3,>=1.6.3->tensorboard->-r requirements-dev.txt (line 9)) (0.4.2)
Requirement already satisfied: rsa<5,>=3.1.4 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from google-auth<3,>=1.6.3->tensorboard->-r requirements-dev.txt (line 9)) (4.9.1)
Requirement already satisfied: requests-oauthlib>=0.7.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from google-auth-oauthlib<1.1,>=0.5->tensorboard->-r requirements-dev.txt (line 9)) (2.0.0)
Requirement already satisfied: graphql-core<3.3,>=3.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from graphene<4->mlflow->-r requirements-dev.txt (line 42)) (3.2.7)
Requirement already satisfied: graphql-relay<3.3,>=3.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from graphene<4->mlflow->-r requirements-dev.txt (line 42)) (3.2.0)
Requirement already satisfied: fsspec>=2023.5.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from huggingface-hub<1.0,>=0.23.2->transformers->-r requirements-dev.txt (line 41)) (2025.3.0)
Requirement already satisfied: hf-xet<2.0.0,>=1.1.3 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from huggingface-hub<1.0,>=0.23.2->transformers->-r requirements-dev.txt (line 41)) (1.2.0)
Requirement already satisfied: zipp>=3.1.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from importlib-resources>=1.3->nibabel->-r requirements-dev.txt (line 7)) (3.20.2)
Requirement already satisfied: MarkupSafe>=2.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from Jinja2>=2.3->Sphinx==3.5.3->-r requirements-dev.txt (line 30)) (2.1.5)
Requirement already satisfied: typing-inspect>=0.4.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from libcst>=1.0.1->pytype>=2020.6.1->-r requirements-dev.txt (line 24)) (0.9.0)
Requirement already satisfied: six>=1.5 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from python-dateutil>=2.8.2->pandas->-r requirements-dev.txt (line 38)) (1.17.0)
Requirement already satisfied: joblib>=1.1.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from scikit-learn<2->mlflow->-r requirements-dev.txt (line 42)) (1.4.2)
Requirement already satisfied: threadpoolctl>=2.0.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from scikit-learn<2->mlflow->-r requirements-dev.txt (line 42)) (3.5.0)
Requirement already satisfied: greenlet>=1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from sqlalchemy<3,>=1.4.0->mlflow->-r requirements-dev.txt (line 42)) (3.1.1)
Requirement already satisfied: distlib<1,>=0.3.7 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from virtualenv>=20.10.0->pre-commit->-r requirements-dev.txt (line 50)) (0.4.0)
Requirement already satisfied: soupsieve>1.2 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from beautifulsoup4->gdown>=4.4.0->-r requirements-dev.txt (line 4)) (2.7)
Requirement already satisfied: PySocks!=1.5.7,>=1.5.6 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from requests[socks]->gdown>=4.4.0->-r requirements-dev.txt (line 4)) (1.7.1)
Requirement already satisfied: gitdb<5,>=4.0.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from gitpython<4,>=3.1.9->mlflow-skinny==2.17.2->mlflow->-r requirements-dev.txt (line 42)) (4.0.12)
Requirement already satisfied: deprecated>=1.2.6 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from opentelemetry-api<3,>=1.9.0->mlflow-skinny==2.17.2->mlflow->-r requirements-dev.txt (line 42)) (1.3.1)
Requirement already satisfied: opentelemetry-semantic-conventions==0.54b1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from opentelemetry-sdk<3,>=1.9.0->mlflow-skinny==2.17.2->mlflow->-r requirements-dev.txt (line 42)) (0.54b1)
Requirement already satisfied: pyasn1<0.7.0,>=0.6.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from pyasn1-modules>=0.2.1->google-auth<3,>=1.6.3->tensorboard->-r requirements-dev.txt (line 9)) (0.6.1)
Requirement already satisfied: oauthlib>=3.0.0 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from requests-oauthlib>=0.7.0->google-auth-oauthlib<1.1,>=0.5->tensorboard->-r requirements-dev.txt (line 9)) (3.3.1)
Requirement already satisfied: wrapt<3,>=1.10 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from deprecated>=1.2.6->opentelemetry-api<3,>=1.9.0->mlflow-skinny==2.17.2->mlflow->-r requirements-dev.txt (line 42)) (2.0.1)
Requirement already satisfied: smmap<6,>=3.0.1 in /opt/miniconda3/envs/testbed/lib/python3.8/site-packages (from gitdb<5,>=4.0.1->gitpython<4,>=3.1.9->mlflow-skinny==2.17.2->mlflow->-r requirements-dev.txt (line 42)) (5.0.2)
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
+ python setup.py develop
setup.py with torch 1.13.1+cu117
Please set environment variable `BUILD_MONAI=1` to enable Cpp/CUDA extension build.
BUILD_MONAI_CPP=False, BUILD_MONAI_CUDA=False, TORCH_VERSION=11301.
running develop
running egg_info
writing monai.egg-info/PKG-INFO
writing dependency_links to monai.egg-info/dependency_links.txt
writing requirements to monai.egg-info/requires.txt
writing top-level names to monai.egg-info/top_level.txt
reading manifest file 'monai.egg-info/SOURCES.txt'
reading manifest template 'MANIFEST.in'
adding license file 'LICENSE'
writing manifest file 'monai.egg-info/SOURCES.txt'
running build_ext
Creating /opt/miniconda3/envs/testbed/lib/python3.8/site-packages/monai.egg-link (link to .)
monai 0.9.1+54.g8c15ead8.dirty is already the active version in easy-install.pth

Installed /testbed
Processing dependencies for monai==0.9.1+54.g8c15ead8.dirty
Searching for numpy==1.24.4
Best match: numpy 1.24.4
Adding numpy 1.24.4 to easy-install.pth file
Installing f2py script to /opt/miniconda3/envs/testbed/bin
Installing f2py3 script to /opt/miniconda3/envs/testbed/bin
Installing f2py3.8 script to /opt/miniconda3/envs/testbed/bin

Using /opt/miniconda3/envs/testbed/lib/python3.8/site-packages
Searching for torch==1.13.1
Best match: torch 1.13.1
Adding torch 1.13.1 to easy-install.pth file
Installing convert-caffe2-to-onnx script to /opt/miniconda3/envs/testbed/bin
Installing convert-onnx-to-caffe2 script to /opt/miniconda3/envs/testbed/bin
Installing torchrun script to /opt/miniconda3/envs/testbed/bin

Using /opt/miniconda3/envs/testbed/lib/python3.8/site-packages
Searching for nvidia-cuda-nvrtc-cu11==11.7.99
Best match: nvidia-cuda-nvrtc-cu11 11.7.99
Adding nvidia-cuda-nvrtc-cu11 11.7.99 to easy-install.pth file

Using /opt/miniconda3/envs/testbed/lib/python3.8/site-packages
Searching for nvidia-cublas-cu11==11.10.3.66
Best match: nvidia-cublas-cu11 11.10.3.66
Adding nvidia-cublas-cu11 11.10.3.66 to easy-install.pth file

Using /opt/miniconda3/envs/testbed/lib/python3.8/site-packages
Searching for nvidia-cudnn-cu11==8.5.0.96
Best match: nvidia-cudnn-cu11 8.5.0.96
Adding nvidia-cudnn-cu11 8.5.0.96 to easy-install.pth file

Using /opt/miniconda3/envs/testbed/lib/python3.8/site-packages
Searching for nvidia-cuda-runtime-cu11==11.7.99
Best match: nvidia-cuda-runtime-cu11 11.7.99
Adding nvidia-cuda-runtime-cu11 11.7.99 to easy-install.pth file

Using /opt/miniconda3/envs/testbed/lib/python3.8/site-packages
Searching for typing-extensions==4.13.2
Best match: typing-extensions 4.13.2
Adding typing-extensions 4.13.2 to easy-install.pth file

Using /opt/miniconda3/envs/testbed/lib/python3.8/site-packages
Searching for wheel==0.44.0
Best match: wheel 0.44.0
Adding wheel 0.44.0 to easy-install.pth file
Installing wheel script to /opt/miniconda3/envs/testbed/bin

Using /opt/miniconda3/envs/testbed/lib/python3.8/site-packages
Searching for setuptools==75.1.0
Best match: setuptools 75.1.0
Adding setuptools 75.1.0 to easy-install.pth file

Using /opt/miniconda3/envs/testbed/lib/python3.8/site-packages
Finished processing dependencies for monai==0.9.1+54.g8c15ead8.dirty
setup.py:18: DeprecationWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html
  import pkg_resources
/opt/miniconda3/envs/testbed/lib/python3.8/site-packages/setuptools/__init__.py:94: _DeprecatedInstaller: setuptools.installer and fetch_build_eggs are deprecated.
!!

        ********************************************************************************
        Requirements should be satisfied by a PEP 517 installer.
        If you are using pip, you can try `pip install --use-pep517`.
        ********************************************************************************

!!
  dist.fetch_build_eggs(dist.setup_requires)
/opt/miniconda3/envs/testbed/lib/python3.8/site-packages/setuptools/command/develop.py:41: EasyInstallDeprecationWarning: easy_install command is deprecated.
!!

        ********************************************************************************
        Please avoid running ``setup.py`` and ``easy_install``.
        Instead, use pypa/build, pypa/installer or other
        standards-based tools.

        See https://github.com/pypa/setuptools/issues/917 for details.
        ********************************************************************************

!!
  easy_install.initialize_options(self)
/opt/miniconda3/envs/testbed/lib/python3.8/site-packages/setuptools/_distutils/cmd.py:66: SetuptoolsDeprecationWarning: setup.py install is deprecated.
!!

        ********************************************************************************
        Please avoid running ``setup.py`` directly.
        Instead, use pypa/build, pypa/installer or other
        standards-based tools.

        See https://blog.ganssle.io/articles/2021/10/setup-py-deprecated.html for details.
        ********************************************************************************

!!
  self.initialize_options()
+ git checkout 8c15ead8cc055aa65430c2ccb7919e2954d76234 tests/test_wsireader.py
Updated 0 paths from 3d5426f8
+ git apply -v -
Checking patch tests/test_wsireader.py...
Applied patch tests/test_wsireader.py cleanly.
+ pytest -rA tests/test_wsireader.py
============================= test session starts ==============================
platform linux -- Python 3.8.20, pytest-8.3.5, pluggy-1.5.0
rootdir: /testbed
configfile: pyproject.toml
collected 78 items

tests/test_wsireader.py ..............sssssssssssss..................... [ 61%]
...........sssssssssssssssssss                                           [100%]

=============================== warnings summary ===============================
monai/utils/module.py:340
  pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html

../opt/miniconda3/envs/testbed/lib/python3.8/site-packages/pkg_resources/__init__.py:3154
  Deprecated call to `pkg_resources.declare_namespace('mpl_toolkits')`.
  Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages

../opt/miniconda3/envs/testbed/lib/python3.8/site-packages/pkg_resources/__init__.py:3154
../opt/miniconda3/envs/testbed/lib/python3.8/site-packages/pkg_resources/__init__.py:3154
../opt/miniconda3/envs/testbed/lib/python3.8/site-packages/pkg_resources/__init__.py:3154
../opt/miniconda3/envs/testbed/lib/python3.8/site-packages/pkg_resources/__init__.py:3154
  Deprecated call to `pkg_resources.declare_namespace('sphinxcontrib')`.
  Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages

../opt/miniconda3/envs/testbed/lib/python3.8/site-packages/itk/support/types.py:143
../opt/miniconda3/envs/testbed/lib/python3.8/site-packages/itk/support/types.py:143
../opt/miniconda3/envs/testbed/lib/python3.8/site-packages/itk/support/types.py:143
../opt/miniconda3/envs/testbed/lib/python3.8/site-packages/itk/support/types.py:143
  In the future `np.bool` will be defined as the corresponding NumPy scalar.

monai/utils/module.py:347
  Please use `binary_erosion` from the `scipy.ndimage` namespace, the `scipy.ndimage.morphology` namespace is deprecated.

monai/utils/module.py:347
  Please use `distance_transform_edt` from the `scipy.ndimage` namespace, the `scipy.ndimage.morphology` namespace is deprecated.

monai/utils/module.py:347
monai/utils/module.py:347
monai/utils/module.py:347
monai/utils/module.py:347
monai/utils/module.py:347
  Please use `distance_transform_cdt` from the `scipy.ndimage` namespace, the `scipy.ndimage.morphology` namespace is deprecated.

../opt/miniconda3/envs/testbed/lib/python3.8/site-packages/torch/utils/tensorboard/__init__.py:4
../opt/miniconda3/envs/testbed/lib/python3.8/site-packages/torch/utils/tensorboard/__init__.py:6
  distutils Version classes are deprecated. Use packaging.version instead.

tests/test_wsireader.py::testing_data_config
  Expected None, but tests/test_wsireader.py::testing_data_config returned {'images': {'wsi_img': {'url': 'https://github.com/Project-MONAI/MONAI-extra-test-data/releases/download/0.8.1/CMU-1.tiff', 'hash_type': 'sha256', 'hash_val': '73a7e89bc15576587c3d68e55d9bf92f09690280166240b48ff4b48230b13bcd'}, 'favicon': {'url': 'https://github.com/Project-MONAI/MONAI-extra-test-data/releases/download/0.8.1/favicon.ico.zip', 'hash_type': 'sha256', 'hash_val': '3a3635c8d8adb81feebc5926b4106e8eb643a24a4be2a69a9d35f9a578acadb5'}, 'icon': {'url': 'https://github.com/Project-MONAI/MONAI-extra-test-data/releases/download/0.8.1/icon.tar.gz', 'hash_type': 'sha256', 'hash_val': '90f24cd8f20f3932624da95190ce384302261acf0ea15b358f7832e3b6becac0'}, 'mednist': {'url': 'https://github.com/Project-MONAI/MONAI-extra-test-data/releases/download/0.8.1/MedNIST.tar.gz', 'hash_type': 'sha256', 'hash_val': 'f2f4881ff8799a170b10a403495f0ce0ad7486491901cde67a647e6627e7f916'}, 'Prostate_T2W_AX_1': {'url': 'https://github.com/Project-MONAI/MONAI-extra-test-data/releases/download/0.8.1/Prostate_T2W_AX_1.nii', 'hash_type': 'sha256', 'hash_val': 'a14231f539c0f365a5f83f2a046969a9b9870e56ffd126fd8e7242364d25938a'}, '0000_t2_tse_tra_4': {'url': 'https://github.com/rcuocolo/PROSTATEx_masks/raw/master/Files/lesions/Images/T2/ProstateX-0000_t2_tse_tra_4.nii.gz', 'hash_type': 'md5', 'hash_val': 'adb3f1c4db66a6481c3e4a2a3033c7d5'}, '0000_ep2d_diff_tra_7': {'url': 'https://github.com/rcuocolo/PROSTATEx_masks/raw/master/Files/lesions/Images/ADC/ProstateX-0000_ep2d_diff_tra_7.nii.gz', 'hash_type': 'md5', 'hash_val': 'f12a11ad0ebb0b1876e9e010564745d2'}, 'ref_avg152T1_LR': {'url': 'https://github.com/Project-MONAI/MONAI-extra-test-data/releases/download/0.8.1/avg152T1_LR_nifti.nii.gz', 'hash_type': 'sha256', 'hash_val': 'c01a50caa7a563158ecda43d93a1466bfc8aa939bc16b06452ac1089c54661c8'}, 'ref_avg152T1_RL': {'url': 'https://github.com/Project-MONAI/MONAI-extra-test-data/releases/download/0.8.1/avg152T1_RL_nifti.nii.gz', 'hash_type': 'sha256', 'hash_val': '8a731128dac4de46ccb2cc60d972b98f75a52f21fb63ddb040ca96f0aed8b51a'}, 'MNI152_T1_2mm': {'url': 'https://github.com/Project-MONAI/MONAI-extra-test-data/releases/download/0.8.1/MNI152_T1_2mm.nii.gz', 'hash_type': 'sha256', 'hash_val': '0585cd056bf5ccfb8bf97a5f6a66082d4e7caad525718fc11e40d80a827fcb92'}, 'MNI152_T1_2mm_strucseg': {'url': 'https://github.com/Project-MONAI/MONAI-extra-test-data/releases/download/0.8.1/MNI152_T1_2mm_strucseg.nii.gz', 'hash_type': 'sha256', 'hash_val': 'eb4f1e596ca85aadaefc359d409fb9a3e27d733e6def04b996953b7c54bc26d4'}}, 'videos': {'endovis': {'url': 'https://github.com/Project-MONAI/MONAI-extra-test-data/releases/download/0.8.1/d1_im.mp4', 'hash_type': 'md5', 'hash_val': '9b103c07326439b0ea376018d7189384'}, 'ultrasound': {'url': 'https://github.com/Project-MONAI/MONAI-extra-test-data/releases/download/0.8.1/example_data_Ultrasound_Q000_04_tu_segmented_ultrasound_256.avi', 'hash_type': 'md5', 'hash_val': 'f0755960cc4a08a958561cda9a79a157'}}, 'models': {'senet154-c7b49a05': {'url': 'https://github.com/Project-MONAI/MONAI-extra-test-data/releases/download/0.8.1/senet154-c7b49a05.pth', 'hash_type': 'sha256', 'hash_val': 'c7b49a056b98b0bed65b0237c27acdead655e599669215573d357ad337460413'}, 'se_resnet101-7e38fcc6': {'url': 'https://github.com/Project-MONAI/MONAI-extra-test-data/releases/download/0.8.1/se_resnet101-7e38fcc6.pth', 'hash_type': 'sha256', 'hash_val': '7e38fcc64eff3225a3ea4e6081efeb6087e8d5a61c204d94edc2ed1aab0b9d70'}, 'se_resnet152-d17c99b7': {'url': 'https://github.com/Project-MONAI/MONAI-extra-test-data/releases/download/0.8.1/se_resnet152-d17c99b7.pth', 'hash_type': 'sha256', 'hash_val': 'd17c99b703dcca2d2507ddfb68f72625a2f7e23ee64396eb992f1b2cf7e6bdc1'}, 'se_resnet50-ce0d4300': {'url': 'https://github.com/Project-MONAI/MONAI-extra-test-data/releases/download/0.8.1/se_resnet50-ce0d4300.pth', 'hash_type': 'sha256', 'hash_val': 'ce0d430017d3f4aa6b5658c72209f3bfffb060207fd26a2ef0b203ce592eba01'}, 'se_resnext101_32x4d-3b2fe3d8': {'url': 'https://github.com/Project-MONAI/MONAI-extra-test-data/releases/download/0.8.1/se_resnext101_32x4d-3b2fe3d8.pth', 'hash_type': 'sha256', 'hash_val': '3b2fe3d8acb8de7d5976c4baf518f24a0237509272a69366e816682d3e57b989'}, 'se_resnext50_32x4d-a260b3a4': {'url': 'https://github.com/Project-MONAI/MONAI-extra-test-data/releases/download/0.8.1/se_resnext50_32x4d-a260b3a4.pth', 'hash_type': 'sha256', 'hash_val': 'a260b3a40f82dfe37c58d26a612bcf7bef0d27c6fed096226b0e4e9fb364168e'}}, 'configs': {'test_meta_file': {'url': 'https://github.com/Project-MONAI/MONAI-extra-test-data/releases/download/0.8.1/meta_schema_20220324.json', 'hash_type': 'md5', 'hash_val': '662135097106b71067cd1fc657f8720f'}}}, which will be an error in a future version of pytest.  Did you mean to use `assert` instead of `return`?

tests/test_wsireader.py: 24 warnings
  <class 'monai.data.image_reader.WSIReader'>: Class `WSIReader` has been deprecated since version 0.8. use `monai.wsi_reader.WSIReader` instead.

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
==================================== PASSES ====================================
_____________________________ testing_data_config ______________________________
---------------------------- Captured stdout setup -----------------------------
2025-11-14 18:45:07,135 - INFO - Downloaded: /testbed/tests/testing_data/temp_CMU-1.tiff.tiff
2025-11-14 18:45:07,675 - INFO - Verified 'temp_CMU-1.tiff.tiff', sha256: 73a7e89bc15576587c3d68e55d9bf92f09690280166240b48ff4b48230b13bcd.
---------------------------- Captured stderr setup -----------------------------
temp_CMU-1.tiff.tiff: 0.00B [00:00, ?B/s]temp_CMU-1.tiff.tiff:   0%|          | 8.00k/195M [00:00<1:49:28, 31.1kB/s]temp_CMU-1.tiff.tiff:   5%|         | 9.88M/195M [00:00<00:05, 35.7MB/s]  temp_CMU-1.tiff.tiff:  15%|        | 29.2M/195M [00:00<00:01, 90.8MB/s]temp_CMU-1.tiff.tiff:  21%|        | 40.0M/195M [00:00<00:01, 95.2MB/s]temp_CMU-1.tiff.tiff:  32%|      | 61.7M/195M [00:00<00:01, 136MB/s] temp_CMU-1.tiff.tiff:  38%|      | 74.1M/195M [00:00<00:00, 134MB/s]temp_CMU-1.tiff.tiff:  45%|     | 86.6M/195M [00:00<00:00, 133MB/s]temp_CMU-1.tiff.tiff:  51%|    | 100M/195M [00:00<00:00, 136MB/s] temp_CMU-1.tiff.tiff:  62%|   | 120M/195M [00:01<00:00, 154MB/s]temp_CMU-1.tiff.tiff:  67%|   | 130M/195M [00:01<00:00, 137MB/s]temp_CMU-1.tiff.tiff:  77%|  | 150M/195M [00:01<00:00, 141MB/s]temp_CMU-1.tiff.tiff:  87%| | 170M/195M [00:01<00:00, 160MB/s]temp_CMU-1.tiff.tiff:  98%|| 190M/195M [00:01<00:00, 175MB/s]temp_CMU-1.tiff.tiff: 195MB [00:01, 131MB/s]                           
=========================== short test summary info ============================
PASSED tests/test_wsireader.py::testing_data_config
PASSED tests/test_wsireader.py::TestCuCIMDeprecated::test_read_malformats_0
PASSED tests/test_wsireader.py::TestCuCIMDeprecated::test_read_malformats_1
PASSED tests/test_wsireader.py::TestCuCIMDeprecated::test_read_malformats_2
PASSED tests/test_wsireader.py::TestCuCIMDeprecated::test_read_malformats_3
PASSED tests/test_wsireader.py::TestCuCIMDeprecated::test_read_patches_0__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestCuCIMDeprecated::test_read_patches_1__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestCuCIMDeprecated::test_read_region_0__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestCuCIMDeprecated::test_read_region_1__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestCuCIMDeprecated::test_read_region_2__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestCuCIMDeprecated::test_read_rgba_0
PASSED tests/test_wsireader.py::TestCuCIMDeprecated::test_read_rgba_1
PASSED tests/test_wsireader.py::TestCuCIMDeprecated::test_read_whole_image_0__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestCuCIMDeprecated::test_with_dataloader_0__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestTiffFileDeprecated::test_read_malformats_0
PASSED tests/test_wsireader.py::TestTiffFileDeprecated::test_read_malformats_1
PASSED tests/test_wsireader.py::TestTiffFileDeprecated::test_read_malformats_2
PASSED tests/test_wsireader.py::TestTiffFileDeprecated::test_read_malformats_3
PASSED tests/test_wsireader.py::TestTiffFileDeprecated::test_read_patches_0__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestTiffFileDeprecated::test_read_patches_1__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestTiffFileDeprecated::test_read_region_0__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestTiffFileDeprecated::test_read_region_1__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestTiffFileDeprecated::test_read_region_2__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestTiffFileDeprecated::test_read_rgba_0
PASSED tests/test_wsireader.py::TestTiffFileDeprecated::test_read_rgba_1
PASSED tests/test_wsireader.py::TestTiffFileDeprecated::test_read_whole_image_0__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestTiffFileDeprecated::test_with_dataloader_0__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestCuCIM::test_read_malformats_0
PASSED tests/test_wsireader.py::TestCuCIM::test_read_malformats_1
PASSED tests/test_wsireader.py::TestCuCIM::test_read_malformats_2
PASSED tests/test_wsireader.py::TestCuCIM::test_read_malformats_3
PASSED tests/test_wsireader.py::TestCuCIM::test_read_region_0__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestCuCIM::test_read_region_1__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestCuCIM::test_read_region_2__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestCuCIM::test_read_region_3__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestCuCIM::test_read_region_multi_thread_0__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestCuCIM::test_read_region_multi_thread_1__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestCuCIM::test_read_region_multi_thread_2__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestCuCIM::test_read_region_multi_thread_3__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestCuCIM::test_read_region_multi_wsi_0
PASSED tests/test_wsireader.py::TestCuCIM::test_read_rgba_0
PASSED tests/test_wsireader.py::TestCuCIM::test_read_rgba_1
PASSED tests/test_wsireader.py::TestCuCIM::test_read_whole_image_0__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestCuCIM::test_read_whole_image_multi_thread_0__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestCuCIM::test_with_dataloader_0__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
PASSED tests/test_wsireader.py::TestCuCIM::test_with_dataloader_batch_0__testbed_tests_testing_data_temp_CMU_1_tiff_tiff
SKIPPED [4] tests/test_wsireader.py:233: Requires OpenSlide
SKIPPED [2] tests/test_wsireader.py:201: Requires OpenSlide
SKIPPED [3] tests/test_wsireader.py:184: Requires OpenSlide
SKIPPED [2] tests/test_wsireader.py:213: Requires OpenSlide
SKIPPED [1] tests/test_wsireader.py:177: Requires OpenSlide
SKIPPED [1] tests/test_wsireader.py:246: Requires OpenSlide
SKIPPED [4] tests/test_wsireader.py:342: Requires openslide
SKIPPED [4] tests/test_wsireader.py:279: Requires openslide
SKIPPED [4] tests/test_wsireader.py:401: Requires openslide
SKIPPED [1] tests/test_wsireader.py:300: Requires openslide
SKIPPED [2] tests/test_wsireader.py:322: Requires openslide
SKIPPED [1] tests/test_wsireader.py:267: Requires openslide
SKIPPED [1] tests/test_wsireader.py:388: Requires openslide
SKIPPED [1] tests/test_wsireader.py:355: Requires openslide
SKIPPED [1] tests/test_wsireader.py:371: Requires openslide
================= 46 passed, 32 skipped, 44 warnings in 7.48s ==================
+ git checkout 8c15ead8cc055aa65430c2ccb7919e2954d76234 tests/test_wsireader.py
Updated 1 path from 3d5426f8
